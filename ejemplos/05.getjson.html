<!DOCTYPE html>
<html lang="es">
<head>
<title>Ejemplo getJson y API de Youtube</title>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<link rel="stylesheet" type="text/css" href="./../css/style.css" />
	<link rel="stylesheet" type="text/css" href="./../css/jquery.snippet.css" />
	<link rel='icon' type='image/png' href='./../img/favicon.png' />
	<script type='text/javascript' src='./../js/jquery-1.9.1.min.js'></script>
	<script type='text/javascript' src='./../js/tabla_contenidos.js'></script>
	<script type='text/javascript' src='./../js/jquery.linkEjemplos.js'></script>
	<script type='text/javascript' src='./../js/jquery.snippet.js'></script>
	<script type='text/javascript'>
	pageConf	= {fileName:'/ejemplos/05.getjson.html', sesion:0, num_sesiones:6};
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-33125186-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body>
<div id='head'>
	<a href='http://www.adsl.org.mx/' id='logoADSL'>Academia de software libre</a>
	<h1>
		<a id='link_principal' href='./../index.html'>Manual básico de jQuery</a><br />
		<span id='descripcion'>Compartiendo conocimientos</span>
	</h1>
</div>
<div id='content'>
<div id='tabla_contenidos'></div>
<script>
$(document).ready(function(){
    $("pre").snippet("javascript", {style:'darkness'});

$('a.button').one('click', function(e){
    var urlAPI = "http://gdata.youtube.com/feeds/api/videos?";
    var title;
    var description;
    $.getJSON(urlAPI, {
        "q" : "dhsy6epaJGs",
        "max-results":  1 ,
        "v" : 2 ,
        "alt" : "jsonc"
    }).done(
        function(response){
            title = response.data.items[0].title;
            description = response.data.items[0].description;
            $('h2.titulo').text(title);
            $('p.descripcion').text(description);
            $( "<img/>" ).attr( "src", response.data.items[0].thumbnail.sqDefault ).appendTo( "p.descripcion" );
    });
    e.preventDefault();
});

});</script>

<p><style type="text/css" media="all">p.descripcion {
    padding: 10px;
    color: #004983;
    background: #ADE0FF;
}</style></p>

<h1>Ejemplo getJson y API de Youtube</h1>

<p>Vamos hacer uso del <strong>API</strong> de youtube para extraer información de <a href="https://www.youtube.com/watch?v=dhsy6epaJGs">un video</a> y mostrarla en la página:</p>

<h2>Código JS</h2>

<pre><code>$('a.button').one('click', function(e){
    var urlAPI = "http://gdata.youtube.com/feeds/api/videos?";
    var title;
    var description;
    $.getJSON(urlAPI, {
        "q" : "dhsy6epaJGs",
        "max-results":  1 ,
        "v" : 2 ,
        "alt" : "jsonc"
    }).done(
        function(response){
            title = response.data.items[0].title;
            description = response.data.items[0].description;
            $('h2.titulo').text(title);
            $('p.descripcion').text(description);
            $( "&lt;img/&gt;" ).attr( "src", response.data.items[0].thumbnail.sqDefault ).appendTo( "p.descripcion" );
    });
    e.preventDefault();
});</code></pre>

<h2>Código HTML</h2>

<pre><code>&lt;a class='button' href="#"&gt;Cargar info de youtube&lt;/a&gt;
&lt;h2 class="titulo"&gt;---&lt;/h2&gt;
&lt;p class="descripcion"&gt;---&lt;/p&gt;
</code></pre>

<h2>Código CSS</h2>

<pre><code>p.descripcion {
    padding: 10px;
    color: #004983;
    background: #ADE0FF;
}</code></pre>

<h2>Resultado</h2>

<p><a class='button' href="#">Cargar info de youtube</a></p>

<h2 class="titulo">---</h2>

<p class="descripcion">---</p>
</div><!-- end content -->
<div id="pie_pagina">
	<div id="agradecimientos">
		<h2>Con especial agredecimiento a:</h2>
		<ul>
				<li><a href="http://mundosica.com">mundosica</a></li>
				<li><a href="http://adsl.mx">ADSL</a></li>
				<li><a href="https://github.com/mundosica/tutorial_hispano_jQuery/contributors">Colaboradores</a></li>
		</ul>
		<br/>
		<a class="copy" rel="license" href="http://mundosica.github.com//tutorial_hispano_jQuery/copyright.html">&nbsp;</a>
    <a class="xhtml-valido" href="http://validator.w3.org/check?uri=referer">&nbsp;</a>
	</div>
</div>
</body>
</html>
